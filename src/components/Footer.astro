---
import {
  SidebarEntry,
  getPrevNextLinks,
} from '@astrojs/starlight/utils/navigation'
import type { LocaleData } from '@astrojs/starlight/utils/slugs'
import config from 'virtual:starlight/user-config'

import EditLink from '@astrojs/starlight/components/EditLink.astro'
import LastUpdated from '@astrojs/starlight/components/LastUpdated.astro'
import PrevNextLinks from '@astrojs/starlight/components/PrevNextLinks.astro'
import type { StarlightData } from '../starlight/schemas/starlight'

interface Props {
  entry: { id: string; data: StarlightData }
  entryMeta: LocaleData
  sidebar: SidebarEntry[]
}

const { entry, data, sidebar } = Astro.props
const prevNextLinks = getPrevNextLinks(sidebar)
---

<footer>
  <div class="meta flex">
    {
      config.editLink.baseUrl && (
        <EditLink data={entry.data} id={entry.id} {locale} />
      )
    }
    <LastUpdated id={entry.id} {lang} {locale} />
  </div>
  <PrevNextLinks {...prevNextLinks} {dir} {locale} />
</footer>

<style>
  .meta {
    gap: 0.75rem 3rem;
    justify-content: space-between;
    flex-wrap: wrap;
    margin-block: 3rem 1.5rem;
    font-size: var(--sl-text-sm);
    color: var(--sl-color-gray-3);
  }
</style>
